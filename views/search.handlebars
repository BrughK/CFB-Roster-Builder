{{!-- bulma hero to give background --}}
<div class="hero is-link">
	<div class="hero-body is-justify-content-center is-align-items-center">
		<div class="card">
			<h2 class="title has-text-dark has-text-centered pt-4 mb-0">Search For A Player:</h2>
			<div class="card-content">
				{{!-- Player Search Form --}}
				<form id="search-form">
					<div class="field">
						<label class="label">Name</label>
						<div class="control">
							<input class="input" type="text" name="name" placeholder="Required">
						</div>
					</div>
					<div class="field">
						<label class="label">Team</label>
						<div class="control">
							<input class="input" type="text" name="team" placeholder="Optional">
						</div>
					</div>
					<div class="field">
						<label class="label">Position</label>
						<div class="control">
							<input class="input" type="text" name="position" placeholder="Optional">
						</div>
					</div>
					<div class="field">
						<label class="label">Year</label>
						<div class="control">
							<input class="input" type="text" name="year" placeholder="Optional">
						</div>
					</div>
          {{!-- Submit Button --}}
					<div class="field is-grouped is-justify-content-center is-align-items-center">
						<div class="control">
							<button type="submit" class="button is-link is-large" id="search-button">Search</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>



<script src="/js/playerSearch.js"></script>
<script>
  const form = document.querySelector('#search-form');
  const searchButton = document.querySelector('#search-button');
  
  form.addEventListener('submit', async (event) => {
    event.preventDefault();
    const name = form.querySelector('input[name="name"]').value;
    const newName = encodeURIComponent(name);
    const team = form.querySelector('input[name="team"]').value;
    const position = form.querySelector('input[name="position"]').value;
    const year = form.querySelector('input[name="year"]').value;
	
	try {
		const response = await fetch(`/players?searchTerm=${newName}&position=${position}&team=${team}&year=${year}`);
		const data = await response.json();
		console.log('Player data:', data);
  } catch (error) {
    	console.error('Error retrieving player data:', error);
  }
  });
</script>
